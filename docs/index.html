<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="atr wraps the AT Protocol (Authenticated Transfer Protocol) behind 
    Bluesky &lt;https://blueskyweb.xyz&gt;. Functions can be used for, among others, 
    retrieving posts and followers from the network or posting content.">
<title>Wrapper for the AT Protocol behind Bluesky ‚Ä¢ atr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Wrapper for the AT Protocol behind Bluesky">
<meta property="og:description" content="atr wraps the AT Protocol (Authenticated Transfer Protocol) behind 
    Bluesky &lt;https://blueskyweb.xyz&gt;. Functions can be used for, among others, 
    retrieving posts and followers from the network or posting content.">
<meta property="og:image" content="https://jbgruber.github.io/atr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">atr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Basic_Usage.html">Basic Usage</a>
    <a class="dropdown-item" href="articles/Feed_Analysis.html">Feed Analysis</a>
    <a class="dropdown-item" href="articles/Interactions.html">Interaction with Platform</a>
    <a class="dropdown-item" href="articles/Networks.html">Networks</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/JBGruber/atr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="atr-">atr <a class="anchor" aria-label="anchor" href="#atr-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of atr is to wrap the AT Protocol (Authenticated Transfer Protocol) behind Bluesky. <em>And we have actually already fulfilled this goal!</em></p>
<p>The entire protocol is open and documented in so-called <a href="https://atproto.com/guides/lexicon" class="external-link">lexicons</a>, from which we autogenerated <code>R</code> functions.</p>
<p>These are not exported, however, since dealing with them is a bit advanced. Rather we have some nice human-generated functions with documentation and examples.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>atr</code> like so (<code>pak</code> works similar to <code>remotes</code> here, but it‚Äôs what the cool kids use now <span class="emoji" data-emoji="grin">üòÅ</span>):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"JBGruber/atr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-the-package">Load the package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jbgruber.github.io/atr/">atr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h2>
<p>The first time you make a request, you will be prompted automatically to enter your user handle and an app password to authenticate <code>atr</code> to communicate with BlueSky for you.</p>
<figure><img src="articles/figures/password_popup.png" alt="RStudio Popup"><figcaption aria-hidden="true">
RStudio Popup
</figcaption></figure><p>The page to generate app passwords is also automatically opened for you.</p>
<figure><img src="articles/figures/app_password.png" alt="page to create new app passwords"><figcaption aria-hidden="true">
page to create new app passwords
</figcaption></figure><p>However, you can also trigger this process manually:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/auth.html">auth</a></span><span class="op">(</span><span class="st">"jbgruber.bsky.social"</span><span class="op">)</span></span></code></pre></div>
<p>This can be useful if you want to replace an old token as it is permanently stored encrypted on disk.</p>
</div>
<div class="section level2">
<h2 id="retrieve-skeets-get_skeets_authored_by">Retrieve Skeets (<code>get_skeets_authored_by</code>)<a class="anchor" aria-label="anchor" href="#retrieve-skeets-get_skeets_authored_by"></a>
</h2>
<p>To fetch all the skeets by a specific user, use the <code>get_skeets_authored_by</code> function. <em>Note this also includes quote skeets and reskeets.</em> You can also opt not to parse the result by setting <code>parse = FALSE</code>, however it is recommended to use the default parse option which results in a (more) tidy tibble.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_skeets_authored_by.html">get_skeets_authored_by</a></span><span class="op">(</span>actor <span class="op">=</span> <span class="st">"benguinaudeau.bsky.social"</span>, parse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 24</span></span>
<span><span class="co">#&gt; Columns: 11</span></span>
<span><span class="co">#&gt; $ uri          &lt;chr&gt; "at://did:plc:l6z5l7dtmoalsxl6v6a57mjk/app.bsky.feed.post‚Ä¶</span></span>
<span><span class="co">#&gt; $ cid          &lt;chr&gt; "bafyreihfmnxonlhlukswv6flaf4xzporosdbwo57ii3lo3fgzebggho‚Ä¶</span></span>
<span><span class="co">#&gt; $ author       &lt;list&gt; ["did:plc:l6z5l7dtmoalsxl6v6a57mjk", "elisadeisshelbig.b‚Ä¶</span></span>
<span><span class="co">#&gt; $ text         &lt;chr&gt; "I am very much looking forward to the CPPE talks put tog‚Ä¶</span></span>
<span><span class="co">#&gt; $ record       &lt;list&gt; ["I am very much looking forward to the CPPE talks put t‚Ä¶</span></span>
<span><span class="co">#&gt; $ reply_count  &lt;int&gt; 0, 3, 0, 2, 0, 2, 0, 0, 1, 0, 1, 1, 0, 1, 1, 2, 1, 0, 1, ‚Ä¶</span></span>
<span><span class="co">#&gt; $ repost_count &lt;int&gt; 2, 45, 0, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 3‚Ä¶</span></span>
<span><span class="co">#&gt; $ like_count   &lt;int&gt; 8, 38, 2, 36, 1, 5, 4, 1, 0, 4, 4, 3, 0, 1, 0, 5, 0, 3, 3‚Ä¶</span></span>
<span><span class="co">#&gt; $ indexed_at   &lt;dttm&gt; 2023-10-05 15:53:49, 2023-10-04 13:15:35, 2023-10-02 01:‚Ä¶</span></span>
<span><span class="co">#&gt; $ reply        &lt;list&gt; &lt;NULL&gt;, &lt;NULL&gt;, [["app.bsky.feed.defs#postView", "at://d‚Ä¶</span></span>
<span><span class="co">#&gt; $ is_reskeet   &lt;lgl&gt; TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALS‚Ä¶</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyzing-feeds-on-blue-sky">Analyzing Feeds on Blue Sky<a class="anchor" aria-label="anchor" href="#analyzing-feeds-on-blue-sky"></a>
</h2>
<p>On Blue Sky users have the ability to create custom feeds based on specific keywords. These feeds aggregate content, for instance, a user might curate a feed around the hashtag <code>#rstats</code> to gather all relevant content about. Let‚Äôs delve into the dynamics of such feeds.</p>
<p>Our starting point is to extract the posts from the <code>#rstats</code> feed created by ‚Äúandrew.heiss.phd‚Äù.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetching the feed posts</span></span>
<span><span class="va">feeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_feeds_created_by.html">get_feeds_created_by</a></span><span class="op">(</span>actor <span class="op">=</span> <span class="st">"andrew.heiss.phd"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Filtering for a specific keyword, for example "#rstats"</span></span>
<span><span class="va">rstat_feed</span> <span class="op">&lt;-</span> <span class="va">feeds</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">displayName</span> <span class="op">==</span> <span class="st">"#rstats"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extracting posts from this curated feed</span></span>
<span><span class="va">rstat_posts</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_feed.html">get_feed</a></span><span class="op">(</span><span class="va">rstat_feed</span><span class="op">$</span><span class="va">uri</span>, limit <span class="op">=</span> <span class="fl">200</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Extracting user handle from the author</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>handle <span class="op">=</span> <span class="va">author</span> <span class="op">|&gt;</span> <span class="fu">map_chr</span><span class="op">(</span><span class="op">~</span><span class="op">{</span><span class="va">.x</span><span class="op">$</span><span class="va">handle</span><span class="op">}</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 89</span></span>
<span><span class="co">#&gt; Columns: 11</span></span>
<span><span class="co">#&gt; $ uri          &lt;chr&gt; "at://did:plc:bpwmgq35v7snpvi6xxjhgucy/app.bsky.feed.post‚Ä¶</span></span>
<span><span class="co">#&gt; $ cid          &lt;chr&gt; "bafyreic7iiamtnin5oluodqsrq4ivuh5kgiapnsvug2c6lm5kyyule5‚Ä¶</span></span>
<span><span class="co">#&gt; $ author       &lt;list&gt; ["did:plc:bpwmgq35v7snpvi6xxjhgucy", "fdechterenko.bsky.‚Ä¶</span></span>
<span><span class="co">#&gt; $ text         &lt;chr&gt; "Hi Bluesky! I finally made it to the other site. Hope th‚Ä¶</span></span>
<span><span class="co">#&gt; $ record       &lt;list&gt; ["Hi Bluesky! I finally made it to the other site. Hope ‚Ä¶</span></span>
<span><span class="co">#&gt; $ reply_count  &lt;int&gt; 0, 1, 1, 0, 0, 1, 1, 0, 3, 3, 0, 0, 1, 2, 0, 0, 0, 4, 0, ‚Ä¶</span></span>
<span><span class="co">#&gt; $ repost_count &lt;int&gt; 1, 1, 1, 2, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 4, 0, 0, ‚Ä¶</span></span>
<span><span class="co">#&gt; $ like_count   &lt;int&gt; 8, 6, 8, 5, 1, 1, 5, 0, 9, 1, 1, 3, 6, 4, 5, 4, 11, 6, 1,‚Ä¶</span></span>
<span><span class="co">#&gt; $ indexed_at   &lt;dttm&gt; 2023-10-11 06:18:40, 2023-10-11 00:53:13, 2023-10-10 21:‚Ä¶</span></span>
<span><span class="co">#&gt; $ reply        &lt;list&gt; &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, ‚Ä¶</span></span>
<span><span class="co">#&gt; $ handle       &lt;chr&gt; "fdechterenko.bsky.social", "ceenell.bsky.social", "gabsp‚Ä¶</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="learn-more">Learn More?<a class="anchor" aria-label="anchor" href="#learn-more"></a>
</h2>
<p>Start with the <a href="https://jbgruber.github.io/atr/articles/Basic_Usage.html">Basic Usage</a> vignette to learn more.</p>
</div>
</div>
<div class="section level1">
<h1 id="want-to-help">Want to help?<a class="anchor" aria-label="anchor" href="#want-to-help"></a>
</h1>
<p>You can help by creating an <a href="https://github.com/JBGruber/atr/issues/new/choose" class="external-link">issue</a> requesting new features or reporting bugs. If you are a developer, we are happy to accept pull requests. It should be fairly straightforward, as all endpoints are already covered by automatically generated function. But please open an issue first, so we don‚Äôt do duplicated work.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JBGruber/atr/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing atr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Johannes B. Gruber <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9177-1772" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Benjamin Guinaudeau <br><small class="roles"> Author, contributor </small> <a href="https://orcid.org/0000-0001-7206-6875" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Fabio Votta <br><small class="roles"> Author, contributor </small> <a href="https://orcid.org/0000-0002-3143-5942" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/JBGruber/atr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/JBGruber/atr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/JBGruber/atr?branch=main" class="external-link"><img src="https://codecov.io/gh/JBGruber/atr/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Johannes B. Gruber, Benjamin Guinaudeau, Fabio Votta.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
